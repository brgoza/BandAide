@model BandAide.Web.Models.NeedMembersQueryResultViewModel

@{
    ViewBag.Title = "Query Results";
}
<h4>Query posted.</h4>
<h5> Current results: </h5>

<table class="table">

    @foreach (var item in Model.Users)
    {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.FullName)
                @{
                    try
                    {
                        @Html.ActionLink("Invite", "AddMember", "Bands", new { bandId = Model.Band.Id, NameOfUserToInvite = item.UserName, InstrumentId = Model.Instrument.Id }, null)
                    }
                    catch
                    {
                    }
                }
               
            </td>
            <td>
                @foreach (var skill in item.InstrumentSkills)
                {
                    @skill.Instrument.Name <div class="text-muted">@skill.Proficiency</div>
                }
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Bio)
            </td>

            <td>
                @Html.DisplayFor(modelItem => item.City)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.State)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Zip)
            </td>
            <td>
                <a href=@("mailto:"+item.Email)>@item.Email</a>
            </td>

        </tr>
    }

</table>
